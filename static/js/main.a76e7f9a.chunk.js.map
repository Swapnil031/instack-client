{"version":3,"sources":["components/Navbar.js","components/Footer.js","components/screens/Login.js","components/screens/Signup.js","components/screens/home.js","components/screens/Profile.js","components/screens/UserProfile.js","components/screens/FollowingPosts.js","components/screens/CreatePost.js","reducers/userReducer.js","App.js","index.js"],"names":["NavBar","useContext","UserContext","state","dispatch","renderList","key","to","onClick","sessionStorage","clear","type","document","addEventListener","elems","querySelectorAll","M","Sidenav","init","className","style","padding","href","data-target","id","Footer","Login","history","useHistory","useState","password","setPassword","email","setEmail","placeholder","value","onChange","e","target","fetch","method","headers","body","JSON","stringify","then","res","json","data","error","toast","html","setItem","token","user","payload","push","catch","err","console","log","Signup","name","setName","message","ENDPOINT","Home","setData","useEffect","getItem","result","posts","length","slice","reverse","map","item","_id","src","postedBy","picture","alt","height","width","borderRadius","marginRight","verticalAlign","float","cursor","postId","newData","filter","photo","likes","includes","color","fontSize","marginLeft","title","comments","record","fontWeight","text","commentId","onSubmit","preventDefault","margin","require","config","Profile","mypics","setPics","profilePic","setProfilePic","url","setUrl","mypost","pic","maxWidth","display","justifyContent","borderBottom","files","FormData","append","process","postPicture","followers","following","userProfile","setProfile","showFollow","setShowFollow","userid","useParams","followId","prevState","unfollowId","newFollowers","CreatePost","setTitle","setBody","image","setImage","textAlign","postDetails","reducer","action","createContext","Routing","parse","exact","path","UserProfile","FollowingPosts","App","useReducer","Provider","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a76e7f9a.chunk.js","sourcesContent":["import React, { useContext } from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {UserContext} from '../App'\r\nimport M from 'materialize-css';\r\n\r\n\r\nconst NavBar = () => {\r\n    const {state, dispatch} = useContext(UserContext);\r\n    const renderList = () => {\r\n        if(state){\r\n            return [    \r\n                <li key='followingPosts'><Link to=\"/followingPosts\">Home</Link></li>,            \r\n                <li key='profile'><Link to=\"/profile\">Profile</Link></li>,\r\n                <li key='create'><Link to=\"/create\">CreatePost</Link></li>,\r\n                <li key='explore'><Link to=\"/\">Explore</Link></li>,\r\n                <li key='logout'>\r\n                    <Link to=\"/login\" onClick={()=>{sessionStorage.clear(); dispatch({type:\"CLEAR\"})}}>\r\n                        Logout\r\n                    </Link>\r\n                </li>\r\n            ]\r\n        }\r\n        else{\r\n            return [\r\n                <li key='login'><Link to=\"/login\">Login</Link></li>,\r\n                <li key='signup'><Link to=\"/signup\">Signup</Link></li>\r\n            ]\r\n        }\r\n    }\r\n\r\n    document.addEventListener('DOMContentLoaded', function() {\r\n        var elems = document.querySelectorAll('.sidenav');\r\n        var instances = M.Sidenav.init(elems);\r\n    });\r\n\r\n    return(\r\n        <>\r\n        <div className=\"navbar-fixed\">\r\n        <nav>\r\n            <div className=\"nav-wrapper white\" style={{padding:\"0px 5%\"}}>\r\n                <Link to={state?\"/followingPosts\":\"/login\"} className=\"brand-logo\">InStack</Link>\r\n                <a href=\"#\" data-target=\"mobile-demo\" className=\"sidenav-trigger\"><i className=\"material-icons\">menu</i></a>\r\n                <ul className=\"right hide-on-med-and-down\">\r\n                    {renderList()}\r\n                </ul>\r\n            </div>\r\n        </nav>\r\n        </div>\r\n        \r\n        <ul className=\"sidenav\" id=\"mobile-demo\">\r\n            {renderList()}\r\n        </ul>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default NavBar;","import React from 'react';\r\n\r\nconst Footer = () => {\r\n\r\n    return(\r\n        <footer className=\"page-footer\">\r\n          <div className=\"footer-copyright\">\r\n            <div className=\"container\">\r\n            Copyright © 2020 | Project By Swapnil\r\n            </div>\r\n          </div>\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer;","import React, { useState, useContext } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { UserContext } from '../../App'\r\nimport M from 'materialize-css';\r\n\r\nconst ENDPOINT  = 'https://in-stack.herokuapp.com';\r\n//const ENDPOINT  = 'https://localhost:5000';\r\n\r\n\r\nconst Login = () => {\r\n    const {state,dispatch} = useContext(UserContext);\r\n    const history = useHistory();\r\n    const [password, setPassword] = useState(\"\");\r\n    const [email, setEmail] = useState(\"\");\r\n\r\n    const PostData = () => {\r\n        fetch(`${ENDPOINT}/signin`,{\r\n            method:\"post\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\"\r\n            },\r\n            body:JSON.stringify({\r\n                password,\r\n                email\r\n            })\r\n        })\r\n        .then(res=>res.json())\r\n        .then(data=>{\r\n            if(data.error){\r\n                M.toast({html: data.error})\r\n            }\r\n            else{\r\n                sessionStorage.setItem(\"jwt\",data.token)\r\n                sessionStorage.setItem(\"user\",JSON.stringify(data.user))\r\n                dispatch({type:\"USER\",payload:data.user})\r\n                M.toast({html: \"Login Success\"})\r\n                history.push('/')\r\n            }\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        })\r\n    }\r\n\r\n    return(\r\n        <div className=\"mycard\">\r\n            <div className=\"card auth-card\">\r\n                <h2>InStack</h2>\r\n                <input\r\n                    type=\"text\"\r\n                    placeholder=\"Enter Email\" \r\n                    value={email}\r\n                    onChange={(e)=>setEmail(e.target.value)}\r\n                />\r\n                <input\r\n                    type=\"password\"\r\n                    placeholder=\"Enter Password\" \r\n                    value={password}\r\n                    onChange={(e)=>setPassword(e.target.value)}\r\n                />\r\n                <button className=\"btn waves-effect waves-light #ff1744 red accent-3\"\r\n                    onClick={()=>PostData()}>\r\n                    Login\r\n                </button>\r\n                <p>\r\n                    <Link to=\"/signup\">Don't have an account ?</Link>\r\n                </p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login;","import React, { useState } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport M from 'materialize-css';\r\n\r\nconst ENDPOINT  = 'https://in-stack.herokuapp.com';\r\n//const ENDPOINT  = 'https://localhost:5000';\r\n\r\nconst Signup = () => {\r\n    const history = useHistory();\r\n    const [name, setName] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [email, setEmail] = useState(\"\");\r\n\r\n    const PostData = () => {\r\n        fetch(`${ENDPOINT}/signup`,{\r\n            method:\"post\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\"\r\n            },\r\n            body:JSON.stringify({\r\n                name,\r\n                password,\r\n                email\r\n            })\r\n        })\r\n        .then(res=>res.json())\r\n        .then(data=>{\r\n            if(data.error){\r\n                M.toast({html: data.error})\r\n            }\r\n            else{\r\n                M.toast({html: data.message})\r\n                history.push('/login')\r\n            }\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        })\r\n    }\r\n\r\n    return(\r\n        <div className=\"mycard\">\r\n            <div className=\"card auth-card\">\r\n                <h2>InStack</h2>\r\n                <input\r\n                    type=\"text\"\r\n                    placeholder=\"Enter Name\" \r\n                    value={name}\r\n                    onChange={(e)=>setName(e.target.value)}\r\n                />\r\n                <input\r\n                    type=\"text\"\r\n                    placeholder=\"Enter Email\" \r\n                    value={email}\r\n                    onChange={(e)=>setEmail(e.target.value)}\r\n                />\r\n                <input\r\n                    type=\"password\"\r\n                    placeholder=\"Enter Password\" \r\n                    value={password}\r\n                    onChange={(e)=>setPassword(e.target.value)}\r\n                />\r\n                <button className=\"btn waves-effect waves-light #ff1744 red accent-3\"\r\n                 onClick={() => PostData()}>\r\n                    Sign Up\r\n                </button>\r\n                <p>\r\n                    <Link to=\"/login\">Already have an account ?</Link>\r\n                </p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Signup;","import React, { useState, useEffect, useContext } from 'react';\r\nimport {UserContext} from '../../App'\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst ENDPOINT  = 'https://in-stack.herokuapp.com';\r\n//const ENDPOINT  = 'https://localhost:5000';\r\n\r\nconst Home = () => {\r\n    const [data, setData] = useState([]);\r\n    const {state,dispatch} = useContext(UserContext);\r\n\r\n    useEffect(() => {\r\n        fetch(`${ENDPOINT}/allpost`,{\r\n            headers:{\r\n                \"Authorization\": \"Bearer \"+sessionStorage.getItem(\"jwt\")\r\n            }\r\n        })\r\n        .then(res=>res.json())\r\n        .then(result=>{\r\n            setData(result.posts);\r\n        })\r\n    },[])\r\n\r\n    const likePost = (id) =>{\r\n        fetch(`${ENDPOINT}/like`,{\r\n            method:\"put\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\":\"Bearer \"+sessionStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                postId:id\r\n            })\r\n        })\r\n        .then(res=>res.json())\r\n        .then(result=>{\r\n            const newData = data.map(item=>{\r\n                if(item._id===result._id){\r\n                    return result\r\n                }else{\r\n                    return item\r\n                }\r\n            })\r\n            setData(newData)\r\n        })\r\n        .catch(err=>{\r\n            console.log(err);\r\n        })\r\n    }\r\n\r\n    const unlikePost = (id) =>{\r\n        fetch(`${ENDPOINT}/unlike`,{\r\n            method:\"put\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\":\"Bearer \"+sessionStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                postId:id\r\n            })\r\n        })\r\n        .then(res=>res.json())\r\n        .then(result=>{\r\n            const newData = data.map(item=>{\r\n                if(item._id===result._id){\r\n                    return result\r\n                }else{\r\n                    return item\r\n                }\r\n            })\r\n            setData(newData)\r\n        }).catch(err=>{\r\n            console.log(err);\r\n        })\r\n    }\r\n\r\n    const makeComment = (text,postId) =>{\r\n        fetch(`${ENDPOINT}/comment`,{\r\n            method:\"put\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\":\"Bearer \"+sessionStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                postId,\r\n                text\r\n            })\r\n        })\r\n        .then(res=>res.json())\r\n        .then(result=>{\r\n            const newData = data.map(item=>{\r\n                if(item._id===result._id){\r\n                    return result\r\n                }else{\r\n                    return item\r\n                }\r\n            })\r\n            setData(newData)\r\n        }).catch(err=>{\r\n            console.log(err);\r\n        })\r\n    }\r\n\r\n    const deletePost = (postId) =>{\r\n        fetch(`${ENDPOINT}/deletepost/${postId}`,{\r\n            method:'delete',\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\":\"Bearer \"+sessionStorage.getItem(\"jwt\")\r\n            }\r\n        })\r\n        .then(res=>res.json())\r\n        .then(result=>{\r\n            const newData = data.filter(item=>{\r\n                return item._id !== result._id\r\n            })\r\n            setData(newData);\r\n        }).catch(err=>{\r\n            console.log(err);\r\n        })\r\n    }\r\n\r\n    const deleteComment = (postId,commentId) => {\r\n        fetch(`${ENDPOINT}/deleteComment`,{\r\n            method:'put',\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\":\"Bearer \"+sessionStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                postId,\r\n                commentId\r\n            })\r\n        })\r\n        .then(res=>res.json())\r\n        .then(result=>{\r\n            const newData = data.map(item=>{\r\n                if(item._id===result._id){\r\n                    return result\r\n                }else{\r\n                    return item\r\n                }\r\n            })\r\n            setData(newData)\r\n        }).catch(err=>{\r\n            console.log(err);\r\n        })\r\n    }\r\n\r\n    return(\r\n        <div className=\"home\">\r\n            {   \r\n                (data.length !== 0) ? \r\n                data.slice(0).reverse().map(item=>{\r\n                    return(\r\n                        <div className=\"card home-card\" key={item._id}>\r\n                            <h5 style={{padding:\"5px 25px\"}}>\r\n                                <img \r\n                                    src={item.postedBy.picture} \r\n                                    alt=\"DP\" \r\n                                    style={{height:\"35px\", width:\"35px\", borderRadius:\"50%\", marginRight:\"10px\", verticalAlign:\"middle\"}}/>\r\n                                <Link to={item.postedBy._id !== state._id ? \"/profile/\"+item.postedBy._id : \"/profile\"}>\r\n                                {item.postedBy.name}</Link> \r\n                                {\r\n                                    item.postedBy._id === state._id &&\r\n                                    <i \r\n                                        className=\"material-icons\" \r\n                                        style={{float:\"right\", cursor:\"pointer\"}}\r\n                                        onClick={()=>deletePost(item._id)}>\r\n                                    delete</i>\r\n                                }                                \r\n                            </h5>\r\n                            <div className=\"card-image\">\r\n                                <img alt=\"PostedPic\" src={item.photo} style={{height:\"600px\"}}/>\r\n                            </div>\r\n                            <div className=\"card-content\">\r\n                                {\r\n                                    item.likes.includes(state._id) ?\r\n                                    <i  className=\"material-icons\"\r\n                                        onClick={() => unlikePost(item._id)} \r\n                                        style={{color:\"red\", cursor:\"pointer\"}}>\r\n                                            favorite\r\n                                    </i> :\r\n                                    <i  className=\"material-icons\"\r\n                                        onClick={() => likePost(item._id)}\r\n                                        style={{\"cursor\":\"pointer\"}}>\r\n                                            favorite\r\n                                    </i>\r\n                                }\r\n                                <span style={{verticalAlign:\"top\",fontSize:\"18px\", marginLeft:\"10px\"}}>{item.likes.length} likes</span>\r\n                                <h6>{item.title}</h6>\r\n                                <p>{item.body}</p>\r\n                                {\r\n                                    item.comments.map(record => {\r\n                                        if(record.postedBy.id === state._id){\r\n                                            return(\r\n                                                <h6 key={record._id}>\r\n                                                    <span style={{fontWeight:\"bolder\"}}>{record.postedBy.name}</span> - {record.text}\r\n                                                    <i className=\"material-icons\" \r\n                                                    style={{cursor:\"pointer\", verticalAlign:\"top\", fontSize:\"20px\", color:\"grey\", marginLeft:\"10px\"}}\r\n                                                    onClick={()=>deleteComment(item._id,record._id)}>\r\n                                                        delete\r\n                                                    </i>\r\n                                                </h6>\r\n                                            )\r\n                                        }else{\r\n                                            return(\r\n                                                <h6 key={record._id}>\r\n                                                    <span style={{fontWeight:\"bolder\"}}>{record.postedBy.name} - </span>{record.text}\r\n                                                </h6>\r\n                                            )\r\n                                        }                                        \r\n                                    })\r\n                                }\r\n                                <form onSubmit={(e)=>{\r\n                                    e.preventDefault();\r\n                                    if(e.target[0].value!==''){\r\n                                        makeComment(e.target[0].value, item._id);\r\n                                        e.target[0].value = '';\r\n                                    }\r\n                                }}>\r\n                                    <input type=\"text\" placeholder=\"Add Comment...\" />\r\n                                </form>                                \r\n                            </div>\r\n                        </div>\r\n                    )    \r\n                }) \r\n                :\r\n                <div className=\"preloader-wrapper active\" style={{margin:\"50px 48%\"}}>\r\n                    <div className=\"spinner-layer spinner-red-only\">\r\n                    <div className=\"circle-clipper left\">\r\n                        <div className=\"circle\"></div>\r\n                    </div><div className=\"gap-patch\">\r\n                        <div className=\"circle\"></div>\r\n                    </div><div className=\"circle-clipper right\">\r\n                        <div className=\"circle\"></div>\r\n                    </div>\r\n                    </div>\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home;","import React, { useEffect, useState, useContext } from 'react';\r\nimport { UserContext } from '../../App';\r\nimport M from 'materialize-css';\r\nrequire('dotenv').config();\r\n\r\nconst ENDPOINT  = 'https://in-stack.herokuapp.com';\r\n//const ENDPOINT  = 'https://localhost:5000';\r\nconst CLOUD_NAME = process.env.REACT_APP_CLOUD_NAME;\r\n\r\nconst Profile = () => {\r\n    const {state, dispatch} = useContext(UserContext);\r\n    const [mypics, setPics] = useState([]);\r\n    const [profilePic, setProfilePic] = useState(\"\");\r\n    const [url, setUrl] = useState(\"\");\r\n\r\n    useEffect(()=>{\r\n        fetch(`${ENDPOINT}/mypost`,{\r\n            headers:{\r\n                \"Authorization\":\"Bearer \"+sessionStorage.getItem(\"jwt\")\r\n            }\r\n        })\r\n        .then(res=>res.json())\r\n        .then(result=>{\r\n            setPics(result.mypost)\r\n        })\r\n    },[])\r\n\r\n    useEffect(() => {\r\n        if(url !== \"\"){ \r\n            fetch(`${ENDPOINT}/editProfilePic`,{\r\n                method:\"put\",\r\n                headers:{\r\n                    \"Content-Type\":\"application/json\",\r\n                    \"Authorization\":\"Bearer \"+sessionStorage.getItem(\"jwt\")\r\n                },\r\n                body:JSON.stringify({\r\n                    pic:url\r\n                })\r\n            })\r\n            .then(res=>res.json())\r\n            .then(data=>{\r\n                if(data.error){\r\n                    M.toast({html: data.error})\r\n                }\r\n                else{\r\n                    setProfilePic('');\r\n                    M.toast({html: \"Profile Picture Updated\"});\r\n                }\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            })\r\n        }\r\n    }, [url])\r\n\r\n    const postPicture = () => {\r\n        const data = new FormData()\r\n        data.append(\"file\", profilePic)\r\n        data.append(\"upload_preset\", \"instack\")\r\n        data.append(\"cloud_name\", CLOUD_NAME)\r\n        M.toast({html: \"Please Wait....\"})\r\n        fetch(`https://api.cloudinary.com/v1_1/${CLOUD_NAME}/image/upload`,{\r\n            method:\"post\",\r\n            body:data\r\n        })\r\n        .then(res=>res.json())\r\n        .then(data=>{\r\n            setUrl(data.url);\r\n            sessionStorage.setItem('user',JSON.stringify({...state,picture:data.url}));\r\n            dispatch({type:\"UPDATEPICTURE\",payload:data.url});\r\n        })\r\n        .catch(err=>{\r\n            console.log(err);\r\n        })\r\n    }\r\n\r\n    return(\r\n        <div style={{maxWidth:\"1000px\", margin:\"0px auto\"}}>      \r\n        {\r\n            state ?\r\n            <div style={{\r\n                display:\"flex\",\r\n                justifyContent:\"space-around\",\r\n                margin:\"18px 0px\",\r\n                padding:\"20px 5px\",\r\n                borderBottom:\"2px solid lightgrey\"}} > \r\n                <div>\r\n                    <label>\r\n                        <input type=\"file\" style={{display:\"none\"}} onChange={(e) => setProfilePic(e.target.files[0])} />\r\n                        <i className=\"small material-icons\" style={{cursor:\"pointer\"}} title=\"Change Picture\">edit</i>\r\n                    </label>\r\n                    <img \r\n                        style={{width:\"160px\", height:\"160px\", borderRadius:\"50%\"}}\r\n                        src={state.picture}\r\n                        alt=\"Profile Pic\"/>        \r\n                    {\r\n                        profilePic ? <button className=\"btn #ff1744 red accent-3\" onClick={()=>postPicture()}>Save</button> : null\r\n                    }                \r\n                </div>\r\n                <div>\r\n                    <h4>{state.name}</h4>\r\n                    <div style={{display:'flex', justifyContent:\"space-between\", width:\"108%\"}}>\r\n                        <h5>{mypics.length} posts</h5>\r\n                        <h5>{state.followers.length} followers</h5>\r\n                        <h5>{state.following.length} following</h5>\r\n                    </div>\r\n                </div>\r\n            </div> \r\n            \r\n            : \r\n            \r\n            //<h4>Loading....</h4>\r\n            <div className=\"preloader-wrapper active\" style={{margin:\"50px 48%\"}}>\r\n                <div className=\"spinner-layer spinner-red-only\">\r\n                <div className=\"circle-clipper left\">\r\n                    <div className=\"circle\"></div>\r\n                </div><div className=\"gap-patch\">\r\n                    <div className=\"circle\"></div>\r\n                </div><div className=\"circle-clipper right\">\r\n                    <div className=\"circle\"></div>\r\n                </div>\r\n                </div>\r\n            </div>\r\n        }            \r\n            \r\n            <div className='gallery'>\r\n                {\r\n                    mypics.map(item=>{\r\n                        return(\r\n                            <img \r\n                                className=\"item\" \r\n                                alt={item.title} \r\n                                src={item.photo}\r\n                                key={item._id}\r\n                            />\r\n                        )\r\n                    })\r\n                }                \r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Profile;","import React, { useEffect, useState, useContext } from 'react';\r\nimport { UserContext } from '../../App';\r\nimport { useParams } from 'react-router-dom';\r\n\r\nconst ENDPOINT  = 'https://in-stack.herokuapp.com';\r\n//const ENDPOINT  = 'https://localhost:5000';\r\n\r\nconst Profile = () => {\r\n    const {state, dispatch} = useContext(UserContext);\r\n    const [userProfile, setProfile] = useState(null);\r\n    const [showFollow, setShowFollow] = useState(true);\r\n    const {userid} = useParams();\r\n\r\n    useEffect(()=>{\r\n        fetch(`${ENDPOINT}/user/${userid}`,{\r\n            headers:{\r\n                \"Authorization\":\"Bearer \"+sessionStorage.getItem(\"jwt\")\r\n            }\r\n        })\r\n        .then(res=>res.json())\r\n        .then(result=>{\r\n            setProfile(result);\r\n            if(result.user.followers.includes(state._id)){\r\n                setShowFollow(false);\r\n            }\r\n        })\r\n    },[])\r\n\r\n    const followUser = () =>{\r\n        fetch(`${ENDPOINT}/follow`,{\r\n            method:\"put\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\":\"Bearer \"+sessionStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                followId:userid\r\n            })\r\n        })\r\n        .then(res=>res.json())\r\n        .then(data=>{\r\n            dispatch({type:\"UPDATE\", payload:{following:data.following,followers:data.followers}})\r\n            sessionStorage.setItem(\"user\", JSON.stringify(data))\r\n            setProfile((prevState)=>{\r\n                return {\r\n                    ...prevState,\r\n                    user:{\r\n                        ...prevState.user,\r\n                        followers:[...prevState.user.followers,data._id]\r\n                    }\r\n                }\r\n            });\r\n            setShowFollow(false);\r\n        })\r\n    }\r\n\r\n    const unfollowUser = () =>{\r\n        fetch(`${ENDPOINT}/unfollow`,{\r\n            method:\"put\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\":\"Bearer \"+sessionStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                unfollowId:userid\r\n            })\r\n        })\r\n        .then(res=>res.json())\r\n        .then(data=>{\r\n            dispatch({type:\"UPDATE\", payload:{following:data.following,followers:data.followers}})\r\n            sessionStorage.setItem(\"user\", JSON.stringify(data))\r\n            setProfile((prevState)=>{\r\n                const newFollowers = prevState.user.followers.filter(item=>item !== data._id)\r\n                return {\r\n                    ...prevState,\r\n                    user:{\r\n                        ...prevState.user,\r\n                        followers:newFollowers\r\n                    }\r\n                }\r\n            });\r\n            setShowFollow(true);\r\n        })\r\n    }\r\n\r\n    return(\r\n        <> \r\n        {userProfile ? \r\n        <div style={{maxWidth:\"1000px\", margin:\"0px auto\"}}>\r\n            <div style={{\r\n                display:\"flex\",\r\n                justifyContent:\"space-around\",\r\n                margin:\"18px 0px\",\r\n                padding:\"20px 5px\",\r\n                borderBottom:\"2px solid lightgrey\"\r\n            }} >            \r\n                <div>\r\n                    <img \r\n                        style={{width:\"160px\", height:\"160px\", borderRadius:\"80px\"}}\r\n                        src={userProfile.user.picture}\r\n                        alt=\"Profile Pic\"/>\r\n                </div>\r\n                <div>\r\n                    <h4>{userProfile.user.name}</h4>\r\n                    <div style={{display:'flex', justifyContent:\"space-between\", width:\"108%\"}}>\r\n                        <h5>{userProfile.posts.length} posts</h5>\r\n                        <h5>{userProfile.user.followers.length} followers</h5>\r\n                        <h5>{userProfile.user.following.length} following</h5>\r\n                    </div>\r\n                    {   \r\n                        showFollow?\r\n                        <button className=\"btn #ff1744 red accent-3\" onClick={() => followUser()}>Follow</button> :\r\n                        <button className=\"btn #ff1744 red accent-3\" onClick={() => unfollowUser()}>Unfollow</button>\r\n                    }\r\n                </div>\r\n            </div>\r\n            \r\n            <div className='gallery'>\r\n                {\r\n                    userProfile.posts.map(item=>{\r\n                        return(\r\n                            <img \r\n                                className=\"item\" \r\n                                alt={item.title} \r\n                                src={item.photo}\r\n                                key={item._id}\r\n                            />\r\n                        )\r\n                    })\r\n                }                \r\n            </div>\r\n        </div>\r\n        : \r\n        //<h4 style={{textAlign:\"center\"}}>Loading...</h4>\r\n        <div className=\"preloader-wrapper active\" style={{margin:\"50px 48%\"}}>\r\n            <div className=\"spinner-layer spinner-red-only\">\r\n            <div className=\"circle-clipper left\">\r\n                <div className=\"circle\"></div>\r\n            </div><div className=\"gap-patch\">\r\n                <div className=\"circle\"></div>\r\n            </div><div className=\"circle-clipper right\">\r\n                <div className=\"circle\"></div>\r\n            </div>\r\n            </div>\r\n        </div>\r\n        }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Profile;","import React, { useState, useEffect, useContext } from 'react';\r\nimport {UserContext} from '../../App'\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst ENDPOINT  = 'https://in-stack.herokuapp.com';\r\n//const ENDPOINT  = 'https://localhost:5000';\r\n\r\nconst Home = () => {\r\n    const {state,dispatch} = useContext(UserContext);\r\n    const [data, setData] = useState([]);\r\n\r\n    useEffect(() => {\r\n        fetch(`${ENDPOINT}/getsubpost`,{\r\n            headers:{\r\n                \"Authorization\": \"Bearer \"+sessionStorage.getItem(\"jwt\")\r\n            }\r\n        })\r\n        .then(res=>res.json())\r\n        .then(result=>{\r\n            setData(result.posts);\r\n        })\r\n    },[])\r\n\r\n    const likePost = (id) =>{\r\n        fetch(`${ENDPOINT}/like`,{\r\n            method:\"put\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\":\"Bearer \"+sessionStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                postId:id\r\n            })\r\n        })\r\n        .then(res=>res.json())\r\n        .then(result=>{\r\n            const newData = data.map(item=>{\r\n                if(item._id===result._id){\r\n                    return result\r\n                }else{\r\n                    return item\r\n                }\r\n            })\r\n            setData(newData)\r\n        })\r\n        .catch(err=>{\r\n            console.log(err);\r\n        })\r\n    }\r\n\r\n    const unlikePost = (id) =>{\r\n        fetch(`${ENDPOINT}/unlike`,{\r\n            method:\"put\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\":\"Bearer \"+sessionStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                postId:id\r\n            })\r\n        })\r\n        .then(res=>res.json())\r\n        .then(result=>{\r\n            const newData = data.map(item=>{\r\n                if(item._id===result._id){\r\n                    return result\r\n                }else{\r\n                    return item\r\n                }\r\n            })\r\n            setData(newData)\r\n        }).catch(err=>{\r\n            console.log(err);\r\n        })\r\n    }\r\n\r\n    const makeComment = (text,postId) =>{\r\n        fetch(`${ENDPOINT}/comment`,{\r\n            method:\"put\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\":\"Bearer \"+sessionStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                postId,\r\n                text\r\n            })\r\n        })\r\n        .then(res=>res.json())\r\n        .then(result=>{\r\n            const newData = data.map(item=>{\r\n                if(item._id===result._id){\r\n                    return result\r\n                }else{\r\n                    return item\r\n                }\r\n            })\r\n            setData(newData)\r\n        }).catch(err=>{\r\n            console.log(err);\r\n        })\r\n    }\r\n\r\n    const deletePost = (postId) =>{\r\n        fetch(`${ENDPOINT}/deletepost/${postId}`,{\r\n            method:'delete',\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\":\"Bearer \"+sessionStorage.getItem(\"jwt\")\r\n            }\r\n        })\r\n        .then(res=>res.json())\r\n        .then(result=>{\r\n            const newData = data.filter(item=>{\r\n                return item._id !== result._id\r\n            })\r\n            setData(newData);\r\n        }).catch(err=>{\r\n            console.log(err);\r\n        })\r\n    }\r\n\r\n    const deleteComment = (postId,commentId) => {\r\n        fetch(`${ENDPOINT}/deleteComment`,{\r\n            method:'put',\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\":\"Bearer \"+sessionStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                postId,\r\n                commentId\r\n            })\r\n        })\r\n        .then(res=>res.json())\r\n        .then(result=>{\r\n            const newData = data.map(item=>{\r\n                if(item._id===result._id){\r\n                    return result\r\n                }else{\r\n                    return item\r\n                }\r\n            })\r\n            setData(newData)\r\n        }).catch(err=>{\r\n            console.log(err);\r\n        })\r\n    }\r\n\r\n    return(\r\n        <div className=\"home\">\r\n            {\r\n                (data.length !== 0) ?    \r\n                data.slice(0).reverse().map(item=>{\r\n                    return(\r\n                        <div className=\"card home-card\" key={item._id}>\r\n                            <h5 style={{padding:\"5px 25px\"}}>\r\n                                <img \r\n                                    src={item.postedBy.picture} \r\n                                    alt=\"DP\" \r\n                                    style={{height:\"35px\", width:\"35px\", borderRadius:\"50%\", marginRight:\"10px\", verticalAlign:\"middle\"}}/>\r\n                                <Link to={item.postedBy._id !== state._id ? \"/profile/\"+item.postedBy._id : \"/profile\"}>\r\n                                {item.postedBy.name}</Link> \r\n                                {\r\n                                    item.postedBy._id === state._id &&\r\n                                    <i \r\n                                        className=\"material-icons\" \r\n                                        style={{float:\"right\", cursor:\"pointer\"}}\r\n                                        onClick={()=>deletePost(item._id)}>\r\n                                    delete</i>\r\n                                }                                \r\n                            </h5>\r\n                            <div className=\"card-image\">\r\n                                <img alt=\"PostedPic\" src={item.photo} style={{height:\"600px\"}}/>\r\n                            </div>\r\n                            <div className=\"card-content\">\r\n                                {\r\n                                    item.likes.includes(state._id) ?\r\n                                    <i  className=\"material-icons\"\r\n                                        onClick={() => unlikePost(item._id)} \r\n                                        style={{color:\"red\", cursor:\"pointer\"}}>\r\n                                            favorite\r\n                                    </i> :\r\n                                    <i  className=\"material-icons\"\r\n                                        onClick={() => likePost(item._id)}\r\n                                        style={{\"cursor\":\"pointer\"}}>\r\n                                            favorite\r\n                                    </i>\r\n                                }\r\n                                <span style={{verticalAlign:\"top\",fontSize:\"18px\", marginLeft:\"10px\"}}>{item.likes.length} likes</span>\r\n                                <h6>{item.title}</h6>\r\n                                <p>{item.body}</p>\r\n                                {\r\n                                    item.comments.map(record => {\r\n                                        if(record.postedBy.id === state._id){\r\n                                            return(\r\n                                                <h6 key={record._id}>\r\n                                                    <span style={{fontWeight:\"bolder\"}}>{record.postedBy.name}</span> - {record.text}\r\n                                                    <i className=\"material-icons\" \r\n                                                    style={{cursor:\"pointer\", verticalAlign:\"top\", fontSize:\"20px\", color:\"grey\", marginLeft:\"10px\"}}\r\n                                                    onClick={()=>deleteComment(item._id,record._id)}>\r\n                                                        delete\r\n                                                    </i>\r\n                                                </h6>\r\n                                            )\r\n                                        }else{\r\n                                            return(\r\n                                                <h6 key={record._id}>\r\n                                                    <span style={{fontWeight:\"bolder\"}}>{record.postedBy.name} - </span>{record.text}\r\n                                                </h6>\r\n                                            )\r\n                                        }                                        \r\n                                    })\r\n                                }\r\n                                <form onSubmit={(e)=>{\r\n                                    e.preventDefault();\r\n                                    if(e.target[0].value!==''){\r\n                                        makeComment(e.target[0].value, item._id);\r\n                                        e.target[0].value = '';\r\n                                    }\r\n                                }}>\r\n                                    <input type=\"text\" placeholder=\"Add Comment...\" />\r\n                                </form>                                \r\n                            </div>\r\n                        </div>\r\n                    )    \r\n                }) \r\n                :\r\n                <div className=\"preloader-wrapper active\" style={{margin:\"50px 48%\"}}>\r\n                    <div className=\"spinner-layer spinner-red-only\">\r\n                    <div className=\"circle-clipper left\">\r\n                        <div className=\"circle\"></div>\r\n                    </div><div className=\"gap-patch\">\r\n                        <div className=\"circle\"></div>\r\n                    </div><div className=\"circle-clipper right\">\r\n                        <div className=\"circle\"></div>\r\n                    </div>\r\n                    </div>\r\n                </div>\r\n\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home;","import React, { useState, useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport M from 'materialize-css';\r\nrequire('dotenv').config();\r\n\r\nconst CLOUD_NAME = process.env.REACT_APP_CLOUD_NAME;\r\nconst ENDPOINT  = 'https://in-stack.herokuapp.com';\r\n//const ENDPOINT  = 'https://localhost:5000';\r\n\r\nconst CreatePost = () => {\r\n    const history = useHistory();\r\n    const [title, setTitle] = useState(\"\");\r\n    const [body, setBody] = useState(\"\");\r\n    const [image, setImage] = useState(\"\");\r\n    const [url, setUrl] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        if(url !== \"\"){ \r\n            fetch(`${ENDPOINT}/createpost`,{\r\n                method:\"post\",\r\n                headers:{\r\n                    \"Content-Type\":\"application/json\",\r\n                    \"Authorization\":\"Bearer \"+sessionStorage.getItem(\"jwt\")\r\n                },\r\n                body:JSON.stringify({\r\n                    title,\r\n                    body,\r\n                    pic:url\r\n                })\r\n            })\r\n            .then(res=>res.json())\r\n            .then(data=>{\r\n                if(data.error){\r\n                    M.toast({html: data.error})\r\n                }\r\n                else{\r\n                    M.toast({html: \"Posted Pic\"})\r\n                    history.push('/')\r\n                }\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            })\r\n        }\r\n    }, [url])\r\n\r\n    const postDetails = () => {\r\n        const data = new FormData()\r\n        data.append(\"file\", image)\r\n        data.append(\"upload_preset\", \"instack\")\r\n        data.append(\"cloud_name\", CLOUD_NAME)\r\n        M.toast({html: \"Please Wait....\"})\r\n        fetch(`https://api.cloudinary.com/v1_1/${CLOUD_NAME}/image/upload`,{\r\n            method:\"post\",\r\n            body:data\r\n        })\r\n        .then(res=>res.json())\r\n        .then(data=>{\r\n            setUrl(data.url);\r\n        })\r\n        .catch(err=>{\r\n            console.log(err);\r\n        })\r\n    }\r\n\r\n    return(\r\n        <div className=\"card input-filed\"\r\n            style={{\r\n                margin:\"50px auto\",\r\n                maxWidth:\"500px\",\r\n                padding:\"20px\",\r\n                textAlign:\"center\"\r\n            }}>\r\n            <input \r\n                type=\"text\" \r\n                placeholder=\"title\" \r\n                value={title}\r\n                onChange={(e)=>setTitle(e.target.value)}\r\n            />\r\n            <input \r\n                type=\"text\" \r\n                placeholder=\"body\" \r\n                value={body}\r\n                onChange={(e)=>setBody(e.target.value)}\r\n            />\r\n            <div className=\"file-field input-field\">\r\n                <div className=\"btn #ff1744 red accent-3\">\r\n                    <span>Upload Image</span>\r\n                    <input type=\"file\" onChange={(e) => setImage(e.target.files[0])} />\r\n                </div>\r\n                <div className=\"file-path-wrapper\">\r\n                    <input className=\"file-path validate\" type=\"text\" />\r\n                </div>\r\n            </div>\r\n\r\n            <button \r\n                className=\"btn waves-effect waves-light #ff1744 red accent-3\" \r\n                onClick={()=>postDetails()}\r\n            >\r\n                Submit\r\n            </button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CreatePost;","export const initialState = null\r\n\r\nexport const reducer = (state,action) => {\r\n    if(action.type===\"USER\"){\r\n        return action.payload\r\n    }\r\n    if(action.type===\"CLEAR\"){\r\n        return null\r\n    }\r\n    if(action.type===\"UPDATE\"){\r\n        return {\r\n            ...state,\r\n            followers:action.payload.followers,\r\n            following:action.payload.following\r\n        }\r\n    }\r\n    if(action.type===\"UPDATEPICTURE\"){\r\n        return {\r\n            ...state,\r\n            picture:action.payload\r\n        }\r\n    }\r\n    return state\r\n}","import React, {useEffect, createContext, useReducer, useContext} from 'react';\nimport NavBar from './components/Navbar';\nimport Footer from './components/Footer';\nimport {BrowserRouter,Route, Switch, useHistory} from 'react-router-dom';\nimport {Home, Profile, UserProfile, Login, Signup, CreatePost, FollowingPosts} from './components/screens';\nimport {reducer, initialState} from './reducers/userReducer';\n\nimport './App.css';\n\nexport const UserContext = createContext()\n\nconst Routing = () => {\n  const history = useHistory();\n  const {state,dispatch} = useContext(UserContext);\n\n  useEffect(()=>{\n    const user = JSON.parse(sessionStorage.getItem(\"user\"));\n    if(user){\n      dispatch({type:\"USER\", payload:user})\n      history.push('/');\n    }\n    else{\n      history.push('/login');\n    }\n  }, [])\n\n  return(\n    <Switch>\n      <Route exact path='/'>\n        <Home />\n      </Route>\n      <Route path='/signup'>\n        <Signup />\n      </Route>\n      <Route path='/login'>\n        <Login />\n      </Route>\n      <Route exact path='/profile'>\n        <Profile />\n      </Route>\n      <Route path='/create'>\n        <CreatePost />\n      </Route>\n      <Route path='/profile/:userid'>\n        <UserProfile />\n      </Route>\n      <Route path='/followingPosts'>\n        <FollowingPosts />\n      </Route>\n    </Switch>\n  )\n}\n\nfunction App() {\n  const [state,dispatch] = useReducer(reducer, initialState)\n\n  return (\n    <UserContext.Provider value={{state,dispatch}}>\n      <BrowserRouter>\n        <NavBar />     \n        <Routing />\n        <Footer />\n      </BrowserRouter> \n    </UserContext.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}